(()=>{"use strict";const t=["Both","Mischa","Annabel"];(()=>{const e=i("total"),n=i("number-input"),a=i("submit-btn"),s=i("user-select"),o=i("total"),c=()=>localStorage.getItem("user")||"Both";async function r(){const t=await(async t=>await fetch("http://localhost:8080/user?id="+t))(c());o.innerHTML=await t.json()}function i(t){return document.getElementById(t)}r(),t.forEach((async t=>{const e=document.createElement("option");e.val=t,e.innerText=t,t===c()&&(e.selected="selected"),s.appendChild(e)})),s.addEventListener("change",(async t=>{t.stopPropagation(),localStorage.setItem("user",t.target.value),r()})),a.addEventListener("click",(async()=>{let t=Number.parseInt(n.value),a=Number.parseInt(e.innerText);isNaN(t)&&(t=0),isNaN(a)&&(a=0),e.innerText=a+t;const s=localStorage.getItem("user"),o=await(async(t,e)=>{await fetch("http://localhost:8080/transaction",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)})})(0,{val:t,user:s});console.log(o)}))})()})();
//# sourceMappingURL=main.js.map